{% extends 'base.html.twig' %}

{% block title %} Bienvenue sur manfras! {% endblock %}

{% block body %}
	<div id="carouselExampleCaptions" class="carousel slide" data-bs-ride="carousel">
		<div class="carousel-indicators">
			<button style="background-color: gray" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
			<button style="background-color: gray" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1" aria-label="Slide 2"></button>
			<button style="background-color: gray" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2" aria-label="Slide 3"></button>
		</div>
		<div class="carousel-inner">
			<div class="carousel-item active">
				<img src="./Assets/Bannière/visuel_stray_dog.jpg" class="d-block w-100" alt="..."/>
				<div class="carousel-caption d-none d-md-block"></div>
			</div>
			<div class="carousel-item">
				<img src="./Assets/Bannière/visual_radiant_3.jpg" class="d-block w-100" alt="..."/>
				<div class="carousel-caption d-none d-md-block"></div>
			</div>
			<div class="carousel-item">
				<img src="./Assets/Bannière/dreamland-visual-2.jpg" class="d-block w-100" alt="..."/>
				<div class="carousel-caption d-none d-md-block"></div>
			</div>
		</div>
		<button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev">
			<span class="carousel-control-prev-icon" aria-hidden="true"></span>
			<span class="visually-hidden">Previous</span>
		</button>
		<button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next">
			<span class="carousel-control-next-icon" aria-hidden="true"></span>
			<span class="visually-hidden">Next</span>
		</button>
	</div>

	<div class="container px-lg-5 pt-lg-5">
		<div class="px-sm-1 px-lg-5 py-2">
			<h2>Les chapitres les plus récents</h2>
			<div class="row row-cols-4 my-lg-1 mt-3 mb-1 py-sm-2 px-lg-4 pt-lg-4 pb-lg-2">

				{% for recentChapitre in recentsChapitres %}

					<div class="col-6 col-md-4 col-lg-3 d-flex align-items-center justify-content-center">
						<a href="{{ path('read_scans', {'id': recentChapitre.id}) }}">
							<img class="img-fluid manga-img" src="{{ recentChapitre.manga.image }}" alt="">
							<div>
								<h3 class="mb-0" style="font-size: 1.3em !important">{{ recentChapitre.manga.nom }}</h4>
								<h3 class="pt-1">Chapitre
									{{ recentChapitre.numero }}</h3>
							</div>
						</a>
					</div>

				{% endfor %}

			</div>
		</div>
	</div>

{% for editeur in editeurs %}

	<div class="container py-sm-2 p-lg-5">
		<div class="px-sm-1 px-lg-5 py-2">
			<h2>{{ editeur }}</h2>
			<div class="row row-cols-4 my-2 px-lg-4 py-lg-3 py-sm-2">
				{% for value in mangas %}

					{% for item in value %}

						{% if item.editeur.nom is same as editeur %}
						
							<div class="col-6 col-md-4 col-lg-3 py-3 d-flex align-items-center justify-content-center">
								<a href="{{ path('details_manga', {'id': item.getId()  }) }}">
									<img class="img-fluid manga-img" src={{ item.getImage() }}>
									<div>
										<h3 class="mb-0" style="font-size: 1.3em !important">{{ item.getNom() }}</h4>
									</div>
								</a>
							</div>

						{% endif %}

					{% endfor %}

				{% endfor %}
			</div>
		</div>
	</div>
{% endfor %}
{% endblock %}
